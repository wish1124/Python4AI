# ------------------------------------------
# 1. ë‹¤í˜•ì„±ì´ ì—†ëŠ” ê²½ìš° (Bad Case)
# - ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•´ì•¼ í•¨
# ------------------------------------------
def pay_bad(method, amount):
    if method == "CARD":
        print(f"ðŸ’³ ì‹ ìš©ì¹´ë“œë¡œ {amount}ì› ê²°ì œí•©ë‹ˆë‹¤.")
    elif method == "BANK":
        print(f"ðŸ¦ ê³„ì¢Œì´ì²´ë¡œ {amount}ì› ê²°ì œí•©ë‹ˆë‹¤.")
    elif method == "PAYPAL":
        print(f"ðŸ…¿ï¸ íŽ˜ì´íŒ”ë¡œ {amount}ì› ê²°ì œí•©ë‹ˆë‹¤.")
    # ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨(ì˜ˆ: ì¹´ì¹´ì˜¤íŽ˜ì´)ì´ ìƒê¸°ë©´? ì—¬ê¸°ë¥¼ ë˜ ê³ ì³ì•¼ í•¨! (OCP ìœ„ë°˜)


print("=== 1. ì ˆì°¨ì§€í–¥ ë°©ì‹ (ifë¬¸ ì§€ì˜¥) ===")
pay_bad("CARD", 50000)
pay_bad("BANK", 30000)


# ------------------------------------------
# 2. ìƒì†ì„ ì´ìš©í•œ ë‹¤í˜•ì„± (Overriding)
# - ë¶€ëª¨ í´ëž˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ìžì‹ì´ ìž¬ì •ì˜
# ------------------------------------------
class Payment:
    def pay(self, amount):
        pass  # ë¶€ëª¨ëŠ” ê»ë°ê¸°(Interface)ë§Œ ì œê³µ


class CreditCard(Payment):
    def pay(self, amount):
        print(f"ðŸ’³ [ì‹ ìš©ì¹´ë“œ] {amount}ì› ê²°ì œ ìŠ¹ì¸ ì™„ë£Œ.")


class BankTransfer(Payment):
    def pay(self, amount):
        print(f"ðŸ¦ [ê³„ì¢Œì´ì²´] {amount}ì› ì´ì²´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.")


class Paypal(Payment):
    def pay(self, amount):
        print(f"ðŸ…¿ï¸ [íŽ˜ì´íŒ”] {amount}ì› ì†¡ê¸ˆ ì™„ë£Œ.")


# ------------------------------------------
# 3. ë• íƒ€ì´í•‘ (Duck Typing) - íŒŒì´ì¬ì˜ íŠ¹ì§•
# - ìƒì†ë°›ì§€ ì•Šì•„ë„ 'pay' ë©”ì„œë“œë§Œ ìžˆìœ¼ë©´ ê°™ì€ ì·¨ê¸‰ì„ í•¨
# ------------------------------------------
class CryptoCurrency:  # Paymentë¥¼ ìƒì†ë°›ì§€ ì•ŠìŒ!
    def pay(self, amount):
        print(f"ðŸª™ [ë¹„íŠ¸ì½”ì¸] {amount}ì› ìƒë‹¹ì˜ ì½”ì¸ ì „ì†¡ ì™„ë£Œ.")


# ------------------------------------------
# 4. ë‹¤í˜•ì„±ì˜ íž˜ (í†µí•© ê²°ì œ ì‹œìŠ¤í…œ)
# - ê²°ì œ ìˆ˜ë‹¨ì´ ë¬´ì—‡ì´ë“  ìƒê´€ì—†ì´ 'pay()'ë§Œ í˜¸ì¶œí•˜ë©´ ë¨
# ------------------------------------------
def process_payment(payment_method, amount):
    # payment_methodê°€ ì¹´ë“œì¸ì§€, ê³„ì¢Œì¸ì§€, ì½”ì¸ì¸ì§€ ifë¬¸ìœ¼ë¡œ ì²´í¬í•˜ì§€ ì•ŠìŒ!
    # ê·¸ëƒ¥ "ê²°ì œí•´(pay)"ë¼ê³  ëª…ë ¹ë§Œ ë‚´ë¦¼ -> ë‹¤í˜•ì„±
    print(f"--- ê²°ì œ ì‹œìž‘ ({type(payment_method).__name__}) ---")
    payment_method.pay(amount)
    print("--- ê²°ì œ ì¢…ë£Œ ---\n")


print("\n=== 2. ê°ì²´ì§€í–¥ ë°©ì‹ (ë‹¤í˜•ì„± í™œìš©) ===")

# ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ ê°ì²´ ìƒì„±
card = CreditCard()
bank = BankTransfer()
paypal = Paypal()
bitcoin = CryptoCurrency()  # ìƒì†ë°›ì§€ ì•Šì€ ê°ì²´ (ë• íƒ€ì´í•‘)

# ë¦¬ìŠ¤íŠ¸ì— ë‹´ì•„ì„œ ì¼ê´„ ì²˜ë¦¬ (ë§ˆì¹˜ ê°™ì€ ì¢…ë¥˜ì¸ ê²ƒì²˜ëŸ¼)
payment_methods = [card, bank, paypal, bitcoin]

for method in payment_methods:
    process_payment(method, 50000)

# ê²°ë¡ : 
# ë‚˜ì¤‘ì— 'NaverPay'ê°€ ì¶”ê°€ë˜ì–´ë„, 
# NaverPay í´ëž˜ìŠ¤ë§Œ ë§Œë“¤ë©´ ë˜ê³  process_payment í•¨ìˆ˜ëŠ” ì ˆëŒ€ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ìŒ.
# -> í™•ìž¥ì— ì—´ë ¤ ìžˆê³ (Open), ë³€ê²½ì— ë‹«í˜€ ìžˆìŒ(Closed) -> OCP ì¤€ìˆ˜!